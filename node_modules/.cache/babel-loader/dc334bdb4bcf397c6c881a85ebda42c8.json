{"ast":null,"code":"var _jsxFileName = \"E:\\\\Rails\\\\RailsOJT\\\\outline-create-too-mdy_nodocker\\\\app\\\\javascript\\\\components\\\\employees\\\\_employee_table.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport Table from 'antd/lib/table';\nimport Button from 'antd/lib/button';\nimport QueueAnim from 'rc-queue-anim';\nimport PropTypes from 'prop-types';\nimport { TweenOneGroup } from 'rc-tween-one';\nvar TableContext = React.createContext(false);\n\nvar TableEnterLeave = /*#__PURE__*/function (_React$Component) {\n  _inherits(TableEnterLeave, _React$Component);\n\n  var _super = _createSuper(TableEnterLeave);\n\n  function TableEnterLeave(props) {\n    var _this;\n\n    _classCallCheck(this, TableEnterLeave);\n\n    _this = _super.call(this, props);\n\n    _this.onEnd = function (e) {\n      var dom = e.target;\n      dom.style.height = 'auto';\n    };\n\n    _this.onAdd = function () {\n      var data = _this.state.data;\n      var i = Math.round(Math.random() * (_this.data.length - 1));\n      data.unshift({\n        key: Date.now(),\n        name: _this.data[i].name,\n        age: _this.data[i].age,\n        address: _this.data[i].address\n      });\n\n      _this.setState({\n        data: data,\n        isPageTween: false\n      });\n    };\n\n    _this.onDelete = function (key, e) {\n      e.preventDefault();\n\n      var data = _this.state.data.filter(function (item) {\n        return item.key !== key;\n      });\n\n      _this.setState({\n        data: data,\n        isPageTween: false\n      });\n    };\n\n    _this.pageChange = function () {\n      _this.setState({\n        isPageTween: true\n      });\n    };\n\n    _this.columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name'\n    }, {\n      title: 'Age',\n      dataIndex: 'age',\n      key: 'age'\n    }, {\n      title: 'Address',\n      dataIndex: 'address',\n      key: 'address'\n    }, {\n      title: 'Action',\n      dataIndex: '',\n      key: 'x',\n      render: function render(text, record) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"\".concat(_this.props.className, \"-delete\"),\n          onClick: function onClick(e) {\n            _this.onDelete(record.key, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 11\n          }\n        }, \"Delete\");\n      }\n    }];\n    _this.enterAnim = [{\n      opacity: 0,\n      x: 30,\n      backgroundColor: '#fffeee',\n      duration: 0\n    }, {\n      height: 0,\n      duration: 200,\n      type: 'from',\n      delay: 250,\n      ease: 'easeOutQuad',\n      onComplete: _this.onEnd\n    }, {\n      opacity: 1,\n      x: 0,\n      duration: 250,\n      ease: 'easeOutQuad'\n    }, {\n      delay: 1000,\n      backgroundColor: '#fff'\n    }];\n    _this.pageEnterAnim = [{\n      opacity: 0,\n      duration: 0\n    }, {\n      height: 0,\n      duration: 150,\n      type: 'from',\n      delay: 150,\n      ease: 'easeOutQuad',\n      onComplete: _this.onEnd\n    }, {\n      opacity: 1,\n      duration: 150,\n      ease: 'easeOutQuad'\n    }];\n    _this.leaveAnim = [{\n      duration: 250,\n      opacity: 0\n    }, {\n      height: 0,\n      duration: 200,\n      ease: 'easeOutQuad'\n    }];\n    _this.pageLeaveAnim = [{\n      duration: 150,\n      opacity: 0\n    }, {\n      height: 0,\n      duration: 150,\n      ease: 'easeOutQuad'\n    }];\n    _this.data = [{\n      key: 1,\n      name: 'John Brown',\n      age: 32,\n      address: 'New York No.1 Lake Park'\n    }, {\n      key: 2,\n      name: 'Jim Green',\n      age: 42,\n      address: 'London No.1 Lake Park'\n    }, {\n      key: 3,\n      name: 'Joe Black',\n      age: 32,\n      address: 'Sidney No.1 Lake Park'\n    }, {\n      key: 4,\n      name: 'Jim Red',\n      age: 18,\n      address: 'London No.1 Lake Park'\n    }]; // 动画标签，页面切换时改用 context 传递参数；\n\n    _this.animTag = function ($props) {\n      return /*#__PURE__*/React.createElement(TableContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }, function (isPageTween) {\n        return /*#__PURE__*/React.createElement(TweenOneGroup, Object.assign({\n          component: \"tbody\",\n          enter: !isPageTween ? _this.enterAnim : _this.pageEnterAnim,\n          leave: !isPageTween ? _this.leaveAnim : _this.pageLeaveAnim,\n          appear: false,\n          exclusive: true\n        }, $props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }\n        }));\n      });\n    };\n\n    _this.state = {\n      data: _this.data,\n      isPageTween: false\n    };\n    return _this;\n  }\n\n  _createClass(TableEnterLeave, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-wrapper\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: this.props.className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-header\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-nav\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        height: \"24\",\n        alt: \"img\",\n        src: \"https://zos.alipayobjects.com/rmsportal/TOXWfHIUGHvZIyb.svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        height: \"14\",\n        alt: \"img\",\n        src: \"https://zos.alipayobjects.com/rmsportal/bNfCyCcgnyTgRmz.svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-list\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(QueueAnim, {\n        type: \"bottom\",\n        component: \"ul\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        key: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        key: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        key: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        key: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-table-wrapper\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \"-action-bar\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.onAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      }, \"Add\")), /*#__PURE__*/React.createElement(TableContext.Provider, {\n        value: this.state.isPageTween,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        columns: this.columns,\n        pagination: {\n          pageSize: 4\n        },\n        dataSource: this.state.data,\n        className: \"\".concat(this.props.className, \"-table\"),\n        components: {\n          body: {\n            wrapper: this.animTag\n          }\n        },\n        onChange: this.pageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }\n      }))))));\n    }\n  }]);\n\n  return TableEnterLeave;\n}(React.Component);\n\nTableEnterLeave.propTypes = {\n  className: PropTypes.string\n};\nTableEnterLeave.defaultProps = {\n  className: 'table-enter-leave-demo'\n};\nReactDOM.render( /*#__PURE__*/React.createElement(TableEnterLeave, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 3\n  }\n}), mountNode);","map":{"version":3,"sources":["E:/Rails/RailsOJT/outline-create-too-mdy_nodocker/app/javascript/components/employees/_employee_table.jsx"],"names":["Table","Button","QueueAnim","PropTypes","TweenOneGroup","TableContext","React","createContext","TableEnterLeave","props","onEnd","e","dom","target","style","height","onAdd","data","state","i","Math","round","random","length","unshift","key","Date","now","name","age","address","setState","isPageTween","onDelete","preventDefault","filter","item","pageChange","columns","title","dataIndex","render","text","record","className","enterAnim","opacity","x","backgroundColor","duration","type","delay","ease","onComplete","pageEnterAnim","leaveAnim","pageLeaveAnim","animTag","$props","pageSize","body","wrapper","Component","propTypes","string","defaultProps","ReactDOM","mountNode"],"mappings":"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","sourcesContent":["import Table from 'antd/lib/table';\r\nimport Button from 'antd/lib/button';\r\nimport QueueAnim from 'rc-queue-anim';\r\nimport PropTypes from 'prop-types';\r\nimport { TweenOneGroup } from 'rc-tween-one';\r\n\r\nconst TableContext = React.createContext(false);\r\n\r\nclass TableEnterLeave extends React.Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: 'table-enter-leave-demo',\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.columns = [\r\n      { title: 'Name', dataIndex: 'name', key: 'name' },\r\n      { title: 'Age', dataIndex: 'age', key: 'age' },\r\n      { title: 'Address', dataIndex: 'address', key: 'address' },\r\n      {\r\n        title: 'Action',\r\n        dataIndex: '',\r\n        key: 'x',\r\n        render: (text, record) => (\r\n          <span\r\n            className={`${this.props.className}-delete`}\r\n            onClick={(e) => { this.onDelete(record.key, e); }}\r\n          >\r\n            Delete\r\n          </span>\r\n        ),\r\n      },\r\n    ];\r\n    this.enterAnim = [\r\n      {\r\n        opacity: 0, x: 30, backgroundColor: '#fffeee', duration: 0,\r\n      },\r\n      {\r\n        height: 0,\r\n        duration: 200,\r\n        type: 'from',\r\n        delay: 250,\r\n        ease: 'easeOutQuad',\r\n        onComplete: this.onEnd,\r\n      },\r\n      {\r\n        opacity: 1, x: 0, duration: 250, ease: 'easeOutQuad',\r\n      },\r\n      { delay: 1000, backgroundColor: '#fff' },\r\n    ];\r\n    this.pageEnterAnim = [\r\n      {\r\n        opacity: 0, duration: 0,\r\n      },\r\n      {\r\n        height: 0,\r\n        duration: 150,\r\n        type: 'from',\r\n        delay: 150,\r\n        ease: 'easeOutQuad',\r\n        onComplete: this.onEnd,\r\n      },\r\n      {\r\n        opacity: 1, duration: 150, ease: 'easeOutQuad',\r\n      },\r\n    ];\r\n    this.leaveAnim = [\r\n      { duration: 250, opacity: 0 },\r\n      { height: 0, duration: 200, ease: 'easeOutQuad' },\r\n    ];\r\n    this.pageLeaveAnim = [\r\n      { duration: 150, opacity: 0 },\r\n      { height: 0, duration: 150, ease: 'easeOutQuad' },\r\n    ];\r\n    this.data = [\r\n      {\r\n        key: 1,\r\n        name: 'John Brown',\r\n        age: 32,\r\n        address: 'New York No.1 Lake Park',\r\n      },\r\n      {\r\n        key: 2,\r\n        name: 'Jim Green',\r\n        age: 42,\r\n        address: 'London No.1 Lake Park',\r\n      },\r\n      {\r\n        key: 3,\r\n        name: 'Joe Black',\r\n        age: 32,\r\n        address: 'Sidney No.1 Lake Park',\r\n      },\r\n      {\r\n        key: 4,\r\n        name: 'Jim Red',\r\n        age: 18,\r\n        address: 'London No.1 Lake Park',\r\n      },\r\n    ];\r\n    // 动画标签，页面切换时改用 context 传递参数；\r\n    this.animTag = ($props) => {\r\n      return (\r\n        <TableContext.Consumer>\r\n          {(isPageTween) => {\r\n            return (\r\n              <TweenOneGroup\r\n                component=\"tbody\"\r\n                enter={!isPageTween ? this.enterAnim : this.pageEnterAnim}\r\n                leave={!isPageTween ? this.leaveAnim : this.pageLeaveAnim}\r\n                appear={false}\r\n                exclusive\r\n                {...$props}\r\n              />\r\n            );\r\n          }}\r\n        </TableContext.Consumer>\r\n      );\r\n    };\r\n\r\n    this.state = {\r\n      data: this.data,\r\n      isPageTween: false,\r\n    };\r\n  }\r\n\r\n  onEnd = (e) => {\r\n    const dom = e.target;\r\n    dom.style.height = 'auto';\r\n  }\r\n\r\n  onAdd = () => {\r\n    const { data } = this.state;\r\n    const i = Math.round(Math.random() * (this.data.length - 1));\r\n    data.unshift({\r\n      key: Date.now(),\r\n      name: this.data[i].name,\r\n      age: this.data[i].age,\r\n      address: this.data[i].address,\r\n    });\r\n    this.setState({\r\n      data,\r\n      isPageTween: false,\r\n    });\r\n  };\r\n\r\n  onDelete = (key, e) => {\r\n    e.preventDefault();\r\n    const data = this.state.data.filter(item => item.key !== key);\r\n    this.setState({ data, isPageTween: false });\r\n  }\r\n\r\n  pageChange = () => {\r\n    this.setState({\r\n      isPageTween: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className={`${this.props.className}-wrapper`}>\r\n          <div className={this.props.className}>\r\n            <div className={`${this.props.className}-header`}>\r\n              <ul>\r\n                <li />\r\n                <li />\r\n                <li />\r\n                <li />\r\n                <li />\r\n              </ul>\r\n            </div>\r\n            <div className={`${this.props.className}-nav`}>\r\n              <span>\r\n                <img\r\n                  height=\"24\"\r\n                  alt=\"img\"\r\n                  src=\"https://zos.alipayobjects.com/rmsportal/TOXWfHIUGHvZIyb.svg\"\r\n                />\r\n                <img\r\n                  height=\"14\"\r\n                  alt=\"img\"\r\n                  src=\"https://zos.alipayobjects.com/rmsportal/bNfCyCcgnyTgRmz.svg\"\r\n                />\r\n              </span>\r\n            </div>\r\n            <div className={`${this.props.className}-list`}>\r\n              <QueueAnim type=\"bottom\" component=\"ul\">\r\n                <li key=\"0\" />\r\n                <li key=\"1\" />\r\n                <li key=\"2\" />\r\n                <li key=\"3\" />\r\n                <li key=\"4\" />\r\n              </QueueAnim>\r\n            </div>\r\n            <div className={`${this.props.className}-table-wrapper`}>\r\n              <div className={`${this.props.className}-action-bar`}>\r\n                <Button type=\"primary\" onClick={this.onAdd}>Add</Button>\r\n              </div>\r\n              <TableContext.Provider value={this.state.isPageTween}>\r\n                <Table\r\n                  columns={this.columns}\r\n                  pagination={{ pageSize: 4 }}\r\n                  dataSource={this.state.data}\r\n                  className={`${this.props.className}-table`}\r\n                  components={{ body: { wrapper: this.animTag } }}\r\n                  onChange={this.pageChange}\r\n                />\r\n              </TableContext.Provider>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  <TableEnterLeave />\r\n, mountNode);"]},"metadata":{},"sourceType":"module"}